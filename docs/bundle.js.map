{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/ts/addTask.ts","src/ts/checkCondition.ts","src/ts/initButtons.ts","src/ts/main.ts","src/ts/outItems.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","import {Itemp, arrItems} from \"./main\";\n\n// Добавляем информацию об айтеме в массив, массив отправляем в LocalStorage \nexport default function addTask(text: String) {\n  let temp: Itemp = {\n    todo: text,\n    check: false\n  }\n  arrItems.push(temp);\n  localStorage.setItem(\"todo\", JSON.stringify(arrItems));\n}","import {Itemp, arrItems} from \"./main\";\n\n// Инициализация проверки состояния айтема\nexport default function checkCondition() {\n  let itemsInList = document.querySelectorAll(\"li.item > input[type='checkbox']\");\n\n  itemsInList.forEach(function (curr, i) {\n    (itemsInList[i] as HTMLInputElement).onclick = function () {\n      let input = this;\n      let thisInputNumber = input.id.slice(-1);\n\n      if ((input as HTMLInputElement).type === \"text\") {\n        console.log(\"это текстовое поле\");\n        return false;\n      }\n\n      if (input.hasAttribute(\"checked\")) {\n        input.removeAttribute(\"checked\");\n        changeItemCheck(arrItems, Number(thisInputNumber) - 1, false);\n        localStorage.setItem(\"todo\", JSON.stringify(arrItems));\n      } else {\n        input.setAttribute(\"checked\", \"checked\");\n        changeItemCheck(arrItems, Number(thisInputNumber) - 1, true);\n        localStorage.setItem(\"todo\", JSON.stringify(arrItems));\n      }\n    }\n  });\n\n  function changeItemCheck(arr: Array < Itemp > , number: number, bool: Boolean) {\n    arr[number].check = bool;\n  }\n}","import {Itemp, arrItems} from \"./main\";\n\nimport addTask from \"./addTask\";\nimport outItems from \"./outItems\";\n\n// Инициализация обработчиков кнопок существующих айтемов\nexport default function initButtons() {\n  let items = document.querySelectorAll(\"li.item\");\n\n  items.forEach(function (curr, i) {\n    (items[i].querySelector(\"#btn-delete\") as HTMLElement).onclick = deleteItem;\n    (items[i].querySelector(\"#btn-edit\") as HTMLElement).onclick = editItem;\n  });\n\n  function deleteItem() {\n    this.parentElement.parentElement.remove();\n    let thisInputNumber = this.parentElement.parentElement.querySelector(\"input\").id.slice(-1);\n\n    deleteFromArr(arrItems, Number(thisInputNumber) - 1);\n    localStorage.setItem(\"todo\", JSON.stringify(arrItems));\n    outItems();\n\n    function deleteFromArr(arr: Array < Itemp > , number: number) {\n      return arr.splice(number, 1)\n    }\n  }\n\n  function editItem() {\n    let input = this.parentElement.parentElement.querySelector(\"input\");\n    let thisInputNumber = input.id.slice(-1);\n    let label = this.parentElement.parentElement.querySelector(\"label\");\n    let btnSave = this.parentElement.parentElement.querySelector(\"#btn-save\");\n\n    btnSave.style.display = \"inline\";\n    let btnRed = this;\n    btnRed.style.display = \"none\";\n\n    btnSave.onclick = function () {\n      if (!input.value) {\n        input.value = label.innerText;\n      }\n      label.innerText = input.value;\n      label.style.display = \"inline\";\n      input.setAttribute(\"type\", \"checkbox\");\n      input.classList.remove(\"edit-input\");\n      btnSave.style.display = \"none\";\n      btnRed.style.display = \"\";\n      changeItem(arrItems, Number(thisInputNumber) - 1, input.value);\n      localStorage.setItem(\"todo\", JSON.stringify(arrItems));\n    }\n    input.setAttribute(\"type\", \"text\");\n    input.value = label.innerText;\n    input.classList.add(\"edit-input\");\n    label.style.display = \"none\";\n\n\n    function changeItem(arr: Array < Itemp > , number: number, str: String) {\n      return arr[number].todo = str;\n    }\n  }\n}","import addTask from \"./addTask\";\nimport outItems from \"./outItems\";\nimport initButtons from \"./initButtons\";\n\n// export default window.onload = function () {\n\n  let mainInputVal = < HTMLInputElement > document.getElementById(\"main-input\");\n  let ol = document.querySelector(\".item-list\");\n\n  interface Itemp {\n    todo: String;\n    check: Boolean;\n  }\n\n  export let arrItems: Array < Itemp > = [];\n\n  if (localStorage.getItem(\"todo\") !== undefined) {\n    arrItems = JSON.parse(localStorage.getItem(\"todo\")) || [];\n    outItems();\n  }\n\n  document.getElementById(\"btn-ok\").onclick = function () {\n    if (mainInputVal.value === \"\") {\n      mainInputVal.style.borderColor = \"red\";\n      return;\n    }\n    mainInputVal.style.borderColor = \"\";\n    addTask(mainInputVal.value);\n    mainInputVal.value = \"\";\n    outItems();\n    initButtons();\n  }\n\n  mainInputVal.onkeydown = function (event) {\n    if (event.keyCode === 13) {\n      document.getElementById(\"btn-ok\").click();\n    }\n  }\n  \n  // Инициализация кнопки очистки списка из LocalStorage\n  document.getElementById(\"btn-clear\").onclick = function () {\n    localStorage.clear();\n    ol.innerHTML = \"\";\n    arrItems = [];\n  }\n\n// }\n\nexport default arrItems;\nexport {ol as ol, Itemp as Itemp};","import {ol, arrItems} from \"./main\";\n\nimport initButtons from \"./initButtons\";\nimport checkCondition from \"./checkCondition\";\n\n// Вывод/обновление списка айтемов\nexport default function outItems() {\n  let fragment = document.createDocumentFragment();\n  let i = 0;\n  // Формирование и заполнение айтема\n  for (let key in arrItems) {\n    let checked: String = \"\";\n    if (arrItems[key].check) {\n      checked = \" checked='checked'\";\n    } else {\n      checked = \"\";\n    }\n    i++;\n    let itemList = document.createElement(\"li\");\n    itemList.classList.add(\"item\");\n    itemList.innerHTML =\n      `<input type=\"checkbox\" id=\"item-${i}\" ${checked}>\n      <label for=\"item-${i}\">${arrItems[key].todo}</label>\n      <button id=\"btn-save\"></button>\n      <div class=\"buttons\">\n      <button id=\"btn-edit\"></button>\n      <button id=\"btn-delete\"></button>\n      </div>`;\n    fragment.appendChild(itemList);\n  }\n  ol.innerHTML = '';\n  ol.appendChild(fragment);\n  initButtons();\n  checkCondition();\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYWRkVGFzay50cyIsInNyYy90cy9jaGVja0NvbmRpdGlvbi50cyIsInNyYy90cy9pbml0QnV0dG9ucy50cyIsInNyYy90cy9tYWluLnRzIiwic3JjL3RzL291dEl0ZW1zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxpQ0FBdUM7QUFFdkMsNkVBQTZFO0FBQzdFLGlCQUFnQyxJQUFZO0lBQzFDLElBQUksSUFBSSxHQUFVO1FBQ2hCLElBQUksRUFBRSxJQUFJO1FBQ1YsS0FBSyxFQUFFLEtBQUs7S0FDYixDQUFBO0lBQ0QsZUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQixZQUFZLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQVEsQ0FBQyxDQUFDLENBQUM7QUFDekQsQ0FBQztBQVBELDBCQU9DOzs7OztBQ1ZELGlDQUF1QztBQUV2QywwQ0FBMEM7QUFDMUM7SUFDRSxJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0NBQWtDLENBQUMsQ0FBQztJQUVoRixXQUFXLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFLENBQUM7UUFDbEMsV0FBVyxDQUFDLENBQUMsQ0FBc0IsQ0FBQyxPQUFPLEdBQUc7WUFDN0MsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLElBQUksZUFBZSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFekMsRUFBRSxDQUFDLENBQUUsS0FBMEIsQ0FBQyxJQUFJLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQztnQkFDaEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUNsQyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2YsQ0FBQztZQUVELEVBQUUsQ0FBQyxD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QUFtQyxDQUFDLEtBQUssT0FBTzt5QkFDN0IsQ0FBQyxLQUFLLGVBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJOzs7OzthQUtwQyxDQUFDO1FBQ1YsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBQ0QsU0FBRSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDbEIsU0FBRSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN6QixxQkFBVyxFQUFFLENBQUM7SUFDZCx3QkFBYyxFQUFFLENBQUM7QUFDbkIsQ0FBQztBQTVCRCwyQkE0QkMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsImltcG9ydCB7SXRlbXAsIGFyckl0ZW1zfSBmcm9tIFwiLi9tYWluXCI7XG5cbi8vINCU0L7QsdCw0LLQu9GP0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQvtCxINCw0LnRgtC10LzQtSDQsiDQvNCw0YHRgdC40LIsINC80LDRgdGB0LjQsiDQvtGC0L/RgNCw0LLQu9GP0LXQvCDQsiBMb2NhbFN0b3JhZ2UgXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRUYXNrKHRleHQ6IFN0cmluZykge1xuICBsZXQgdGVtcDogSXRlbXAgPSB7XG4gICAgdG9kbzogdGV4dCxcbiAgICBjaGVjazogZmFsc2VcbiAgfVxuICBhcnJJdGVtcy5wdXNoKHRlbXApO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG9cIiwgSlNPTi5zdHJpbmdpZnkoYXJySXRlbXMpKTtcbn0iLCJpbXBvcnQge0l0ZW1wLCBhcnJJdGVtc30gZnJvbSBcIi4vbWFpblwiO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQv9GA0L7QstC10YDQutC4INGB0L7RgdGC0L7Rj9C90LjRjyDQsNC50YLQtdC80LBcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoZWNrQ29uZGl0aW9uKCkge1xuICBsZXQgaXRlbXNJbkxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwibGkuaXRlbSA+IGlucHV0W3R5cGU9J2NoZWNrYm94J11cIik7XG5cbiAgaXRlbXNJbkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY3VyciwgaSkge1xuICAgIChpdGVtc0luTGlzdFtpXSBhcyBIVE1MSW5wdXRFbGVtZW50KS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGlucHV0ID0gdGhpcztcbiAgICAgIGxldCB0aGlzSW5wdXROdW1iZXIgPSBpbnB1dC5pZC5zbGljZSgtMSk7XG5cbiAgICAgIGlmICgoaW5wdXQgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLRjdGC0L4g0YLQtdC60YHRgtC+0LLQvtC1INC/0L7Qu9C1XCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbnB1dC5oYXNBdHRyaWJ1dGUoXCJjaGVja2VkXCIpKSB7XG4gICAgICAgIGlucHV0LnJlbW92ZUF0dHJpYnV0ZShcImNoZWNrZWRcIik7XG4gICAgICAgIGNoYW5nZUl0ZW1DaGVjayhhcnJJdGVtcywgTnVtYmVyKHRoaXNJbnB1dE51bWJlcikgLSAxLCBmYWxzZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9kb1wiLCBKU09OLnN0cmluZ2lmeShhcnJJdGVtcykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCBcImNoZWNrZWRcIik7XG4gICAgICAgIGNoYW5nZUl0ZW1DaGVjayhhcnJJdGVtcywgTnVtYmVyKHRoaXNJbnB1dE51bWJlcikgLSAxLCB0cnVlKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvXCIsIEpTT04uc3RyaW5naWZ5KGFyckl0ZW1zKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBjaGFuZ2VJdGVtQ2hlY2soYXJyOiBBcnJheSA8IEl0ZW1wID4gLCBudW1iZXI6IG51bWJlciwgYm9vbDogQm9vbGVhbikge1xuICAgIGFycltudW1iZXJdLmNoZWNrID0gYm9vbDtcbiAgfVxufSIsImltcG9ydCB7SXRlbXAsIGFyckl0ZW1zfSBmcm9tIFwiLi9tYWluXCI7XG5cbmltcG9ydCBhZGRUYXNrIGZyb20gXCIuL2FkZFRhc2tcIjtcbmltcG9ydCBvdXRJdGVtcyBmcm9tIFwiLi9vdXRJdGVtc1wiO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LrQvdC+0L/QvtC6INGB0YPRidC10YHRgtCy0YPRjtGJ0LjRhSDQsNC50YLQtdC80L7QslxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaW5pdEJ1dHRvbnMoKSB7XG4gIGxldCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaS5pdGVtXCIpO1xuXG4gIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGN1cnIsIGkpIHtcbiAgICAoaXRlbXNbaV0ucXVlcnlTZWxlY3RvcihcIiNidG4tZGVsZXRlXCIpIGFzIEhUTUxFbGVtZW50KS5vbmNsaWNrID0gZGVsZXRlSXRlbTtcbiAgICAoaXRlbXNbaV0ucXVlcnlTZWxlY3RvcihcIiNidG4tZWRpdFwiKSBhcyBIVE1MRWxlbWVudCkub25jbGljayA9IGVkaXRJdGVtO1xuICB9KTtcblxuICBmdW5jdGlvbiBkZWxldGVJdGVtKCkge1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgIGxldCB0aGlzSW5wdXROdW1iZXIgPSB0aGlzLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIikuaWQuc2xpY2UoLTEpO1xuXG4gICAgZGVsZXRlRnJvbUFycihhcnJJdGVtcywgTnVtYmVyKHRoaXNJbnB1dE51bWJlcikgLSAxKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvZG9cIiwgSlNPTi5zdHJpbmdpZnkoYXJySXRlbXMpKTtcbiAgICBvdXRJdGVtcygpO1xuXG4gICAgZnVuY3Rpb24gZGVsZXRlRnJvbUFycihhcnI6IEFycmF5IDwgSXRlbXAgPiAsIG51bWJlcjogbnVtYmVyKSB7XG4gICAgICByZXR1cm4gYXJyLnNwbGljZShudW1iZXIsIDEpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZWRpdEl0ZW0oKSB7XG4gICAgbGV0IGlucHV0ID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgIGxldCB0aGlzSW5wdXROdW1iZXIgPSBpbnB1dC5pZC5zbGljZSgtMSk7XG4gICAgbGV0IGxhYmVsID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgIGxldCBidG5TYXZlID0gdGhpcy5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNidG4tc2F2ZVwiKTtcblxuICAgIGJ0blNhdmUuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgbGV0IGJ0blJlZCA9IHRoaXM7XG4gICAgYnRuUmVkLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIGJ0blNhdmUub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghaW5wdXQudmFsdWUpIHtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBsYWJlbC5pbm5lclRleHQ7XG4gICAgICB9XG4gICAgICBsYWJlbC5pbm5lclRleHQgPSBpbnB1dC52YWx1ZTtcbiAgICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuICAgICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShcImVkaXQtaW5wdXRcIik7XG4gICAgICBidG5TYXZlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGJ0blJlZC5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcbiAgICAgIGNoYW5nZUl0ZW0oYXJySXRlbXMsIE51bWJlcih0aGlzSW5wdXROdW1iZXIpIC0gMSwgaW5wdXQudmFsdWUpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b2RvXCIsIEpTT04uc3RyaW5naWZ5KGFyckl0ZW1zKSk7XG4gICAgfVxuICAgIGlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIGlucHV0LnZhbHVlID0gbGFiZWwuaW5uZXJUZXh0O1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoXCJlZGl0LWlucHV0XCIpO1xuICAgIGxhYmVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuXG4gICAgZnVuY3Rpb24gY2hhbmdlSXRlbShhcnI6IEFycmF5IDwgSXRlbXAgPiAsIG51bWJlcjogbnVtYmVyLCBzdHI6IFN0cmluZykge1xuICAgICAgcmV0dXJuIGFycltudW1iZXJdLnRvZG8gPSBzdHI7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IGFkZFRhc2sgZnJvbSBcIi4vYWRkVGFza1wiO1xuaW1wb3J0IG91dEl0ZW1zIGZyb20gXCIuL291dEl0ZW1zXCI7XG5pbXBvcnQgaW5pdEJ1dHRvbnMgZnJvbSBcIi4vaW5pdEJ1dHRvbnNcIjtcblxuLy8gZXhwb3J0IGRlZmF1bHQgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcblxuICBsZXQgbWFpbklucHV0VmFsID0gPCBIVE1MSW5wdXRFbGVtZW50ID4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluLWlucHV0XCIpO1xuICBsZXQgb2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLml0ZW0tbGlzdFwiKTtcblxuICBpbnRlcmZhY2UgSXRlbXAge1xuICAgIHRvZG86IFN0cmluZztcbiAgICBjaGVjazogQm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBsZXQgYXJySXRlbXM6IEFycmF5IDwgSXRlbXAgPiA9IFtdO1xuXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvZG9cIikgIT09IHVuZGVmaW5lZCkge1xuICAgIGFyckl0ZW1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvZG9cIikpIHx8IFtdO1xuICAgIG91dEl0ZW1zKCk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bi1va1wiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChtYWluSW5wdXRWYWwudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgIG1haW5JbnB1dFZhbC5zdHlsZS5ib3JkZXJDb2xvciA9IFwicmVkXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1haW5JbnB1dFZhbC5zdHlsZS5ib3JkZXJDb2xvciA9IFwiXCI7XG4gICAgYWRkVGFzayhtYWluSW5wdXRWYWwudmFsdWUpO1xuICAgIG1haW5JbnB1dFZhbC52YWx1ZSA9IFwiXCI7XG4gICAgb3V0SXRlbXMoKTtcbiAgICBpbml0QnV0dG9ucygpO1xuICB9XG5cbiAgbWFpbklucHV0VmFsLm9ua2V5ZG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tb2tcIikuY2xpY2soKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vINCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINC60L3QvtC/0LrQuCDQvtGH0LjRgdGC0LrQuCDRgdC/0LjRgdC60LAg0LjQtyBMb2NhbFN0b3JhZ2VcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY2xlYXJcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICBvbC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGFyckl0ZW1zID0gW107XG4gIH1cblxuLy8gfVxuXG5leHBvcnQgZGVmYXVsdCBhcnJJdGVtcztcbmV4cG9ydCB7b2wgYXMgb2wsIEl0ZW1wIGFzIEl0ZW1wfTsiLCJpbXBvcnQge29sLCBhcnJJdGVtc30gZnJvbSBcIi4vbWFpblwiO1xuXG5pbXBvcnQgaW5pdEJ1dHRvbnMgZnJvbSBcIi4vaW5pdEJ1dHRvbnNcIjtcbmltcG9ydCBjaGVja0NvbmRpdGlvbiBmcm9tIFwiLi9jaGVja0NvbmRpdGlvblwiO1xuXG4vLyDQktGL0LLQvtC0L9C+0LHQvdC+0LLQu9C10L3QuNC1INGB0L/QuNGB0LrQsCDQsNC50YLQtdC80L7QslxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3V0SXRlbXMoKSB7XG4gIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgbGV0IGkgPSAwO1xuICAvLyDQpNC+0YDQvNC40YDQvtCy0LDQvdC40LUg0Lgg0LfQsNC/0L7Qu9C90LXQvdC40LUg0LDQudGC0LXQvNCwXG4gIGZvciAobGV0IGtleSBpbiBhcnJJdGVtcykge1xuICAgIGxldCBjaGVja2VkOiBTdHJpbmcgPSBcIlwiO1xuICAgIGlmIChhcnJJdGVtc1trZXldLmNoZWNrKSB7XG4gICAgICBjaGVja2VkID0gXCIgY2hlY2tlZD0nY2hlY2tlZCdcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hlY2tlZCA9IFwiXCI7XG4gICAgfVxuICAgIGkrKztcbiAgICBsZXQgaXRlbUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgaXRlbUxpc3QuY2xhc3NMaXN0LmFkZChcIml0ZW1cIik7XG4gICAgaXRlbUxpc3QuaW5uZXJIVE1MID1cbiAgICAgIGA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJpdGVtLSR7aX1cIiAke2NoZWNrZWR9PlxuICAgICAgPGxhYmVsIGZvcj1cIml0ZW0tJHtpfVwiPiR7YXJySXRlbXNba2V5XS50b2RvfTwvbGFiZWw+XG4gICAgICA8YnV0dG9uIGlkPVwiYnRuLXNhdmVcIj48L2J1dHRvbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJidXR0b25zXCI+XG4gICAgICA8YnV0dG9uIGlkPVwiYnRuLWVkaXRcIj48L2J1dHRvbj5cbiAgICAgIDxidXR0b24gaWQ9XCJidG4tZGVsZXRlXCI+PC9idXR0b24+XG4gICAgICA8L2Rpdj5gO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGl0ZW1MaXN0KTtcbiAgfVxuICBvbC5pbm5lckhUTUwgPSAnJztcbiAgb2wuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICBpbml0QnV0dG9ucygpO1xuICBjaGVja0NvbmRpdGlvbigpO1xufSJdfQ=="}